!function(){function e(){var e=document.getElementsByClassName("umbraco-forms-form-config");if(0<e.length){for(var t=[],r=0;r<e.length;r++){var o=e[r],o={formId:o.dataset.id,pageButtonConditions:JSON.parse(o.dataset.serializedPageButtonConditions),fieldSetConditions:JSON.parse(o.dataset.serializedFieldsetConditions),fieldConditions:JSON.parse(o.dataset.serializedFieldConditions),triggerConditionsCheckOn:o.dataset.triggerConditionsCheckOn,recordValues:JSON.parse(o.dataset.serializedFieldsNotDisplayed)};t.push(o)}n(t,!0)}else"undefined"==typeof umbracoFormsCollection?document.addEventListener("umbracoFormLoaded",u):n(umbracoFormsCollection);document.getElementById("umbraco-forms-form-submitted")&&(document.onreadystatechange=function(){if("complete"==document.readyState){for(var e=document.querySelectorAll(".field-validation-error, .umbraco-forms-submitmessage"),t=0,r=0;r<e.length;r++){var o=function(e){for(var t=e;"BODY"!==t.tagName;){if(t.classList.contains("umbraco-forms-field"))return t;t=t.parentNode}return e}(e[r]).getBoundingClientRect().top;0<o&&(o<t||0===t)&&(t=o)}0<t&&window.scrollTo(0,t)}})}function n(e,t){if(void 0!==window.aspnetValidation){function r(e,t){if("checkbox"!==t.type.toLowerCase()&&"radio"!==t.type.toLowerCase())return Boolean(e);for(var r=t.form.querySelectorAll("input[name='"+t.name+"']"),o=0;o<r.length;o++)if(!0===r[o].checked)return!0;return!1}function o(){this.form.elements.PreviousClicked.value="clicked"}var n=new aspnetValidation.ValidationService,i=(n.addProvider("requiredcb",r),n.addProvider("required",r),n.addProvider("umbracoforms_regex",function(e,t,r){return!e||!r.pattern||new RegExp(r.pattern).test(e)}),window.addEventListener("load",function(){for(var e in n.providers)n.providers[e]=function(o){return function(e,t,r){return null===t.offsetParent||o(e,t,r)}}(n.providers[e])}),n.bootstrap(),document.querySelectorAll("[data-umb='prev-forms-form']"));0===i.length&&(i=document.getElementsByClassName("prev cancel"));for(var a=0;a<i.length;a++)i[a].form.elements.PreviousClicked.value="",i[a].addEventListener("click",o,!1)}else if("function"==typeof jQuery&&$.validator&&$.validator.unobtrusive){$.validator.setDefaults({ignore:":hidden"}),$.validator.unobtrusive.adapters.addBool("requiredcb","required"),$.validator.addMethod("umbracoforms_regex",function(e,t){var r=$(t).attr("data-regex"),t=$(t).val();return 0===t.length||t.match(r)}),$.validator.unobtrusive.adapters.addBool("regex","umbracoforms_regex");var l=document.querySelectorAll(".umbraco-forms-form input[type=submit]:not(.cancel)");for(let e=0;e<l.length;e++){var d=l[e];d.addEventListener("click",function(e){e.preventDefault();e=$(this).closest("form");c(e[0]),e.validate(),e.valid()&&(e.submit(),this.setAttribute("disabled","disabled"))}.bind(d))}}for(var s=0;s<e.length;s++)u({form:e[s]},t)}function u(e,t){for(var r,o,n,i,a=t?e.form:JSON.parse(decodeURI(e.form)),l=document.querySelectorAll(".umbraco-forms-form"),d=0;d<l.length;d++){var s=l[d];r=s,i=n=o=void 0,"undefined"!=typeof Umbraco&&void 0!==Umbraco.Sys||"tinymce"===document.body.id||((o=document.createElement("div")).className="umbraco-forms missing-library",o.style.color="#fff",o.style.backgroundColor="#9d261d",o.style.padding="15px",o.style.margin="10px 0",n="",!r)||0<r.getElementsByClassName("umbraco-forms missing-library").length||((i=!1)===(i=window.jQuery&&$&&void 0!==$.validator||void 0!==window.aspnetValidation?!0:i)&&(n+="Umbraco Forms requires a validation framework to run, please read documentation for posible options."),""!==n&&(o.innerHTML=n+'<br/> <a href="https://our.umbraco.org/documentation/products/umbracoforms/developer/Prepping-Frontend/" target="_blank" style="text-decoration:underline; color:#fff;">See Umbraco Forms Documentation</a>',r.insertBefore(o,r.childNodes[0]))),new f(s.querySelector(".umbraco-forms-page"),a.pageButtonConditions,a.fieldSetConditions,a.fieldConditions,a.triggerConditionsCheckOn&&0<a.triggerConditionsCheckOn.length?a.triggerConditionsCheckOn:"change",a.recordValues).watch(),function(e){var t;"MutationObserver"in window!=!1&&(void 0!==window.aspnetValidation&&(t=e.getElementsByTagName("form")[0],t.addEventListener("submit",function(){c(t)},!1)),new MutationObserver(function(e){for(var t=0;t<e.length;t++){var r=e[t];if("field-validation-error"===r.target.className){a=i=n=o=void 0;for(var o=r.target,n=o.previousElementSibling;n;){if("input"===n.tagName.toLowerCase()||"textarea"===n.tagName.toLowerCase()||"select"===n.tagName.toLowerCase()){n.focus();break}if(n.classList.contains("radiobuttonlist")||n.classList.contains("checkboxlist")){for(var i=0;i<n.children.length;i++){var a=n.children[i];if("input"===a.tagName.toLowerCase()){a.focus();break}}break}n=n.previousElementSibling}break}}}).observe(e,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1,subtree:!0}))}(s)}}function c(e){for(var t=e.getElementsByClassName("field-validation-error"),r=0;r<t.length;r++)t[r].className="field-validation-valid"}function f(e,t,r,o,n,i){var c={};function a(e,t,r){var o=e.querySelectorAll("select");for(let e=0;e<o.length;e++){var n=o[e];t[n.getAttribute("id")]=n.value,r[n.getAttribute("id")]="select"}var i=e.querySelectorAll("textarea");for(let e=0;e<i.length;e++){var a=i[e];t[a.getAttribute("id")]=a.value,r[a.getAttribute("id")]="textarea"}var l=e.querySelectorAll("input[type=checkbox]");for(let e=0;e<l.length;e++){var d=l[e];t[d.getAttribute("name")]=null,r[d.getAttribute("name")]="checkbox"}var s=e.querySelectorAll("input");for(let e=0;e<s.length;e++){var u=s[e];"text"!==u.getAttribute("type")&&"number"!==u.getAttribute("type")&&"email"!==u.getAttribute("type")&&"url"!==u.getAttribute("type")&&"tel"!==u.getAttribute("type")&&"time"!==u.getAttribute("type")&&"date"!==u.getAttribute("type")&&"datetime-local"!==u.getAttribute("type")&&"hidden"!==u.getAttribute("type")||(t[u.getAttribute("id")]=u.value,r[u.getAttribute("id")]="text"),"radio"===u.getAttribute("type")&&u.matches(":checked")&&(t[u.getAttribute("name")]=u.value,r[u.getAttribute("name")]="radio"),"checkbox"===u.getAttribute("type")&&(u.getAttribute("id")!==u.getAttribute("name")?u.matches(":checked")&&(null===t[u.getAttribute("name")]?t[u.getAttribute("name")]=u.value:t[u.getAttribute("name")]+=";;"+u.value):t[u.getAttribute("name")]=u.matches(":checked")?"true":"false")}}return c.form=e,c.pageButtonConditions=t,c.fieldsetConditions=r,c.fieldConditions=o,c.triggerConditionsCheckOn=n,c.values=i,c.dataTypes={},c.operators={Is:function(e,t,r){return(e||"")===t||(null==e?t==e:("checkbox"===r&&("TRUE"===t.toUpperCase()||"ON"===t.toUpperCase()?t="true":"FALSE"!==t.toUpperCase()&&"OFF"!==t.toUpperCase()||(t="false")),0<e.split(";;").filter(function(e){return e===t}).length))},IsNot:function(e,t,r){var o;return null==e?t!=e:(o=e.split(";;").filter(function(e){return e===t}),"checkbox"===r&&("TRUE"===t.toUpperCase()||"ON"===t.toUpperCase()?t="true":"FALSE"!==t.toUpperCase()&&"OFF"!==t.toUpperCase()||(t="false")),(e||"")!==t&&0===o.length)},GreaterThen:function(e,t){return isNaN(e)||isNaN(t)?t<e:parseInt(e)>parseInt(t)},LessThen:function(e,t){return isNaN(e)||isNaN(t)?e<t:parseInt(e)<parseInt(t)},StartsWith:function(e,t){return e&&e.startsWith(t)},EndsWith:function(e,t){return e&&e.endsWith(t)},Contains:function(e,t){return e&&-1<e.indexOf(t)}},c.watch=function(){var t=c.form.querySelectorAll(".datepickerfield");for(let e=0;e<t.length;e++){var r=t[e];r.addEventListener("blur",function(){var e;""===this.value&&(e=(e=this.getAttribute("id")).substr(0,e.length-2),c.values[e]="",document.getElementById(e).value=""),a(c.form,c.values,c.dataTypes),c.run()}.bind(r))}var o=c.form.querySelectorAll("input, textarea, select");for(let e=0;e<o.length;e++){var n=o[e];n.addEventListener(c.triggerConditionsCheckOn,function(){a(c.form,c.values,c.dataTypes),c.run()}.bind(n))}a(c.form,c.values,c.dataTypes),c.run()},c.run=function(){var e,t,r,o,n={};function s(e){var t,r,o=!0;return!!(o=c.fieldConditions[e.field]?u(e.field,c.fieldConditions[e.field]):o)&&(e=c.values[(o=e).field],t=c.dataTypes[o.field],r=c.operators[o.operator],null!==e)&&r(e,o.value,t)}function i(e,t){var r="Show"===t.actionType,o=n[e],e=void 0===o?(n[e]=r,n[e]=function(e,t){var r,o,n="Any"===t.logicType,i="All"===t.logicType,a={},l=!1,d=!0;if(0===t.rules.length)return!1;for(o=0;o<t.rules.length;o++){if(e===(r=t.rules[o]).field||e===r.fieldsetId)throw new Error("Field or fieldset "+e+" has a condition on itself.");void 0===a[r.fieldsetId]&&(c.fieldsetConditions[r.fieldsetId]?(a[r.fieldsetId]=u(r.fieldsetId,c.fieldsetConditions[r.fieldsetId]),a[r.fieldsetId]||(l=!0)):a[r.fieldsetId]=!0)}if(i&&l)return!1;for(o=0;o<t.rules.length&&(d=!!a[(r=t.rules[o]).fieldsetId]&&s(t.rules[o]),!n||!d)&&(!i||d);o++);return d}(e,t)):o;return!(e^r)}function u(e,t){return!t||i(e,t)}function a(e,t,r){t=u(t,r);e&&(e.style.display=t?"":"none")}for(e in c.pageButtonConditions)Object.prototype.hasOwnProperty.call(c.pageButtonConditions,e)&&(o=document.getElementById(e))&&a(o.querySelector("input[name='__next'], button[name='__next'], input[data-form-navigate='next'], button[data-form-navigate='next']"),e,c.pageButtonConditions[e]);for(t in c.fieldsetConditions)Object.prototype.hasOwnProperty.call(c.fieldsetConditions,t)&&a(document.getElementById(t),t,c.fieldsetConditions[t]);for(r in c.fieldConditions)Object.prototype.hasOwnProperty.call(c.fieldConditions,r)&&document.getElementById(r)&&a(document.getElementById(r).closest(".umbraco-forms-field"),r,c.fieldConditions[r])},c}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}}),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e():document.addEventListener("DOMContentLoaded",e)}();